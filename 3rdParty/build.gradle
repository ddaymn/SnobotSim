apply plugin: "cpp"
apply plugin: 'visual-studio'
apply plugin: 'edu.wpi.first.NativeUtils'

apply from: "${rootDir}/common/config.gradle"


model {
    components {
        yamlcpp(NativeLibrarySpec) {
            sources {
                cpp {
                    source {
                        srcDirs = ['yaml-cpp/src']
                        includes = ['**/*.cpp']
                    }
                    exportedHeaders {
                        srcDirs = ["yaml-cpp/include"]
                    }
                }
            }
        }

    }

}

nativeUtils.exportsConfigs {
    yamlcpp {
        x86ExcludeSymbols = ['_CT??_R0?AV_System_error', '_CT??_R0?AVexception', '_CT??_R0?AVfailure',
                            '_CT??_R0?AVruntime_error', '_CT??_R0?AVsystem_error', '_CTA5?AVfailure',
                            '_TI5?AVfailure', '_CT??_R0?AVout_of_range', '_CTA3?AVout_of_range',
                            '_TI3?AVout_of_range', '_CT??_R0?AVbad_cast']
        x64ExcludeSymbols = ['_CT??_R0?AV_System_error', '_CT??_R0?AVexception', '_CT??_R0?AVfailure',
                            '_CT??_R0?AVruntime_error', '_CT??_R0?AVsystem_error', '_CTA5?AVfailure',
                            '_TI5?AVfailure', '_CT??_R0?AVout_of_range', '_CTA3?AVout_of_range',
                            '_TI3?AVout_of_range', '_CT??_R0?AVbad_cast']
        println("FJDSKLFJSDLKJFSD")
        // throw new Exception(");")
    }
}